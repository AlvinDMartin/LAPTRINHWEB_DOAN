@model WebBanHangMyPham.Models.ViewModels.AppointmentsViewModel

<form method="get">
    <br /><br />
    <h2 class="text-info">Danh sách người mua hàng</h2>
    <bt />
    
    <div style="height:150px; background-color:aliceblue" class="container">
        <div class="col-12">
            <div class="row" style="padding-top:10px">
                <div class="col-2">
                    Tên khách hàng
                </div>
                <div class="col-3">
                    @Html.Editor("searchName", new { htmlAttributes = new { @class = "form-control" } })
                </div>
                <div class="col-2">

                </div>
                <div class="col-2">
                    Email
                </div>
                <div class="col-3">
                    @Html.Editor("searchEmail", new { htmlAttributes = new { @class = "form-control" } })
                </div>
            </div>
            <div class="row" style="padding-top:10px">
                <div class="col-2">
                    Số điện thoại
                </div>
                <div class="col-3">
                    @Html.Editor("searchPhone", new { htmlAttributes = new { @class = "form-control" } })
                </div>
                <div class="col-2">

                </div>
                <div class="col-2">
                    Ngày mua hàng
                </div>
                <div class="col-3">
                    @Html.Editor("searchDate", new { htmlAttributes = new { @class = "form-control", @id = "datepicker" } })
                </div>
            </div>
        </div>
        <div class="row" style="padding-top:10px">
            <div class="col-2">
            </div>
            <div class="col-3">
            </div>
            <div class="col-2">
            </div>
            <div class="col-2">
            </div>
            <div class="col-3">
                <button type="submit" name="submit" value="Search" class="btn btn-primary form-control">
                    <i class="fa fast-search "></i> Search
                </button>

            </div>
        </div>

    </div>

    <br /><br />

    <div class="table table-striped border">
        <tr class="table-info">
            <th>
                @Html.DisplayNameFor(m => m.Appointments.FirstOrDefault().NguoiBanHang.Name)
            </th>
            <th>
                @Html.DisplayNameFor(m => m.Appointments.FirstOrDefault().NgayMuaHang)
            </th>
            <th>
                @Html.DisplayNameFor(m => m.Appointments.FirstOrDefault().NguoiBanHang.Name)
            </th>
            <th>
                @Html.DisplayNameFor(m => m.Appointments.FirstOrDefault().TenKhachHang)
            </th>
            <th>
                @Html.DisplayNameFor(m => m.Appointments.FirstOrDefault().SdtKhachHang)
            </th>
            <th>
                @Html.DisplayNameFor(m => m.Appointments.FirstOrDefault().XacNhan)
            </th>
            <th></th>
            <th></th>
        </tr>
        @foreach(var item in Model.Appointments)
        {
    <tr>
        <td>
            @Html.DisplayFor(m => item.NguoiBanHang.Name)
        </td>
        <td>
            @Html.DisplayFor(m => item.NgayMuaHang)
        </td>
        <td>
            @Html.DisplayFor(m => item.TenKhachHang)
        </td>
        <td>
            @Html.DisplayFor(m => item.SdtKhachHang)
        </td>
        <td>
            @Html.DisplayFor(m => item.EmailKhachHang)
        </td>
        <td>
            @Html.DisplayFor(m => item.XacNhan)
        </td>
        <td>
            <partial name="_TableButtonPartial" model="item.Id"/>
        </td>
    </tr>
        }
    </div>
</form>

@section Scripts{ 
<script>
    $('.timepicker').timepicker({
        timeFormat: 'h:mm p',
        interval: 30,
        minTime: '10',
        maxTime: '3:00pm',
        startTime: '10:00',
        dynamic: true,
        dropdown: true,
        scrollbar: true
    });

    $(function () {
        $("#datepicker").datepicker({
            minDate: +1, maxDate: "+3M"
        });
    });
</script>
}